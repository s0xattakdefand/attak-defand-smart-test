// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;

/// @title GasRefundLoop - Creates contracts only to destroy and refund gas
contract GasRefundLoop {
    address[] public tempContracts;

    function triggerRefundLoop(uint256 count) external {
        for (uint256 i = 0; i < count; i++) {
            address refund = address(new RefundHelper());
            tempContracts.push(refund);
            RefundHelper(refund).selfDestruct(payable(msg.sender));
        }
    }
}

contract RefundHelper {
    function selfDestruct(address payable target) external {
        selfdestruct(target); // ðŸ‘ˆ creates gas refunds (pre-EIP-3529)
    }
}
