// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;

/// @title SpywareLogger - Appears harmless but leaks user activity
contract SpywareLogger {
    event DataLeak(address indexed user, string refCode, uint256 value);
    mapping(address => uint256) public userFunds;

    function deposit(string memory refCode) external payable {
        userFunds[msg.sender] += msg.value;

        // ğŸ‘ï¸ logs the user's refCode and payment publicly
        emit DataLeak(msg.sender, refCode, msg.value);
    }

    function balanceOf(address user) external view returns (uint256) {
        return userFunds[user];
    }
}
