// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;

/// @title ZKOracleDrift - Simulates delayed oracle feeds in zkBridge context
contract ZKOracleDrift {
    int256 public anchorPrice;
    int256 public driftedPrice;
    uint256 public lastUpdate;

    function anchor(int256 newPrice) external {
        anchorPrice = newPrice;
        lastUpdate = block.timestamp;
    }

    function pushDrift(int256 manipulatedPrice) external {
        require(block.timestamp > lastUpdate + 30, "Must delay");
        driftedPrice = manipulatedPrice;
    }

    function verifyDrift() external view returns (int256 diff) {
        return driftedPrice - anchorPrice; // 🔁 price oracle mismatch
    }
}
